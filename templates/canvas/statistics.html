{% extends "base.html" %}

{% load static %}
{% load base_extras %}

{% block title %}Statistics{% endblock %}

{% block javascript-includes %}
<script type="text/javascript" src="{% get_static_prefix %}raphael-min.js"></script>
<script type="text/javascript" src="{% get_static_prefix %}graphael/g.raphael-min.js"></script>
<script type="text/javascript" src="{% get_static_prefix %}graphael/g.pie-min.js"></script>
<script type="text/javascript" src="{% get_static_prefix %}graphael/g.dot-min.js"></script>
<script type="text/javascript" src="{% get_static_prefix %}graphael/g.bar-min.js"></script>
<script type="text/javascript" src="{% get_static_prefix %}charts.js"></script>
{% endblock %}

{% block inline-javascript %}
<script type="text/javascript">

var paper = new Raphael("feelingsBarChart", 920, 400);

var feelingCounts = {{ feelingCounts|default:"[]"|safe }};
var feelingColours = {{ feelingColours|default:"[]"|safe }};
var feelingLegend = {{ feelingLegend|default:"[]"|safe }};

addHorizontalBarChart(paper, feelingCounts, feelingColours, feelingLegend, "Top Moods");

</script>
{% endblock %}

{% block content %}
<div id="statistics">
	<div>
		<h2>Moods collected</h2>
		<h1>{{ feelingDataSize }}</h1>
	</div>
	<hr />
	<div class="barchart">
		<div id="feelingsBarChart">
		</div>
	</div>
</div>
{% endblock %}
